<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fintera - Financial Management</title>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        /* 1. Basic Setup based on user's HTML */
        body {
            /* Using a dark gradient instead of a broken image link */
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e0e7ff; /* Light text color for dark background */
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 25px 17px;
        }

        /* 2. Recreating User's Header */
        .header {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap; /* Allow wrapping on small screens */
            padding-bottom: 20px;
            border-bottom: 2px solid #334155;
        }

        .header-logo {
            /* Placeholder for the logo */
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            height: 120px; /* Reduced from 165 */
            width: 120px; /* Reduced from 165 */
            background-color: #1e293b;
            border: 2px solid #334155;
            border-radius: 50%;
            color: #00ffff; /* Cyan color from marquee */
            margin-right: 20px;
            font-weight: bold;
        }

        .header h1 {
            font-size: 70px; /* Reduced from 90 */
            margin: 0;
            color: #ffffff;
            font-weight: 900;
        }

        /* 3. Recreating Marquee */
        .fintera-marquee {
            color: #00FFFF; /* User's cyan color */
            background-color: #151B54; /* User's dark blue */
            padding: 10px 0;
            margin: 20px 0;
            font-size: 1.1rem;
            font-weight: bold;
        }

        /* 4. Main App Container */
        .app-container {
            max-width: 1000px;
            margin: 20px auto;
            background-color: #1e293b; /* Card background */
            border-radius: 12px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            padding: 30px;
            border: 1px solid #334155;
        }

        /* 5. App Navigation (Replacing the dropdown) */
        .app-nav {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }

        .nav-button {
            background-color: #334155;
            color: #e0e7ff;
            border: none;
            padding: 12px 20px;
            font-size: 1rem;
            font-weight: bold;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .nav-button:hover {
            background-color: #475569;
        }

        .nav-button.active {
            background-color: #00FFFF; /* Cyan */
            color: #151B54; /* Dark Blue */
        }

        /* 6. App Content Views */
        .app-view {
            display: none; /* Hidden by default */
        }

        .app-view.active {
            display: block; /* Shown when active */
        }

        h2, h3 {
            color: #ffffff;
            font-weight: 700;
            border-bottom: 2px solid #334155;
            padding-bottom: 10px;
        }

        h2 { font-size: 2rem; }
        h3 { font-size: 1.5rem; margin-top: 25px; }

        /* 7. Form Styling */
        .transaction-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            margin-bottom: 8px;
            font-weight: bold;
            color: #94a3b8;
        }

        .form-group input,
        .form-group select {
            background-color: #334155;
            border: 1px solid #475569;
            color: #e0e7ff;
            padding: 12px;
            border-radius: 8px;
            font-size: 1rem;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: 2px solid #00FFFF;
            border-color: #00FFFF;
        }

        .submit-button {
            background-color: #00FFFF;
            color: #151B54;
            border: none;
            padding: 12px 20px;
            font-size: 1.1rem;
            font-weight: bold;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s ease;
            grid-column: 1 / -1; /* Span full width */
            margin-top: 10px;
        }

        .submit-button:hover {
            background-color: #33ffff;
        }

        /* 8. Transaction Table */
        .transaction-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .transaction-table th,
        .transaction-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #334155;
        }

        .transaction-table th {
            background-color: #334155;
            color: #ffffff;
        }

        .transaction-table tr:nth-child(even) {
            background-color: #273448; /* Slightly different for rows */
        }

        .amount-expense {
            color: #ff8a8a; /* Red for expenses */
            font-weight: bold;
        }

        .amount-income {
            color: #8aff8a; /* Green for income */
            font-weight: bold;
        }

        .action-buttons button {
            background: none;
            border: none;
            cursor: pointer;
            color: #94a3b8;
            font-size: 1rem;
            margin-right: 10px;
            transition: color 0.2s ease;
        }
        .action-buttons button:hover {
            color: #00FFFF;
        }

        /* 9. Summary/Analysis View */
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .summary-card {
            background-color: #334155;
            padding: 20px;
            border-radius: 8px;
        }

        .summary-card h4 {
            margin: 0 0 10px 0;
            color: #94a3b8;
            font-size: 1rem;
            text-transform: uppercase;
        }

        .summary-card p {
            margin: 0;
            font-size: 2rem;
            font-weight: bold;
        }

        .summary-card .income { color: #8aff8a; }
        .summary-card .expense { color: #ff8a8a; }
        .summary-card .net { color: #e0e7ff; }

        .category-summary ul {
            list-style: none;
            padding: 0;
            margin-top: 15px;
        }

        .category-summary li {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px dashed #475569;
        }
        .category-summary li:last-child {
            border-bottom: none;
        }

        /* 10. Recreating Footer */
        .footer {
            text-align: center;
            margin-top: 40px;
            color: #94a3b8;
            font-size: 0.9rem;
        }

        .footer a {
            color: #00FFFF; /* Cyan link */
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }

        /* 11. Responsive */
        @media (max-width: 600px) {
            .header {
                flex-direction: column;
            }
            .header-logo {
                height: 100px;
                width: 100px;
                font-size: 50px;
                margin-right: 0;
                margin-bottom: 15px;
            }
            .header h1 {
                font-size: 50px;
            }
            .app-nav {
                flex-direction: column;
            }
            .transaction-table {
                font-size: 0.9rem;
            }
            .transaction-table th,
            .transaction-table td {
                padding: 8px;
            }
        }

    </style>
</head>
<body>

    <!-- Header from User HTML -->
    <header class="header">
        <!-- Placeholder logo -->
        <div class="header-logo">
            <i class="fa-solid fa-wallet"></i>
        </div>
        <h1>FINTERA</h1>
    </header>

    <!-- Marquee from User HTML -->
    <marquee class="fintera-marquee" hspace="10" vspace="2">
        ðŸ’° Fintera: A new age of Financial Management.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        ðŸš€An Intelligent Personal Finance Management application that does the boring work for you so that you can relax.
    </marquee>

    <!-- Main App Content -->
    <main class="app-container">
        <!-- App Navigation -->
        <nav class="app-nav">
            <button id="nav-transactions" class="nav-button active" onclick="showView('transactions')">Transactions</button>
            <button id="nav-summary" class="nav-button" onclick="showView('summary')">Summary & Analysis</button>
        </nav>

        <!-- View 1: Transactions (Add/Edit/Delete) -->
        <section id="view-transactions" class="app-view active">
            <h2>Manage Transactions</h2>
            
            <!-- Add/Edit Form -->
            <form id="transaction-form" class="transaction-form">
                <!-- Hidden input for editing -->
                <input type="hidden" id="edit-index">

                <div class="form-group">
                    <label for="date">Date</label>
                    <input type="date" id="date" required>
                </div>
                <div class="form-group">
                    <label for="description">Description</label>
                    <input type="text" id="description" placeholder="e.g., Coffee" required>
                </div>
                <div class="form-group">
                    <label for="category">Category</label>
                    <select id="category" required>
                        <option value="Food">Food</option>
                        <option value="Transport">Transport</option>
                        <option value="Utilities">Utilities</option>
                        <option value="Salary">Salary</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="amount">Amount</label>
                    <input type="number" id="amount" placeholder="0.00" min="0.01" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="type">Type</label>
                    <select id="type" required>
                        <option value="expense">Expense</option>
                        <option value="income">Income</option>
                    </select>
                </div>

                <button type="submit" class="submit-button" id="submit-button">Add Transaction</button>
            </form>

            <!-- Transaction List -->
            <h3>All Transactions</h3>
            <div style="overflow-x: auto;"> <!-- For mobile responsiveness -->
                <table class="transaction-table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Description</th>
                            <th>Category</th>
                            <th>Amount</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="transaction-list">
                        <!-- JS will populate this -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- View 2: Summary & Analysis -->
        <section id="view-summary" class="app-view">
            <h2>Financial Summary</h2>

            <!-- Summary Cards -->
            <div class="summary-grid">
                <div class="summary-card">
                    <h4>Total Income</h4>
                    <p class="income" id="total-income">$0.00</p>
                </div>
                <div class="summary-card">
                    <h4>Total Expense</h4>
                    <p class="expense" id="total-expense">$0.00</p>
                </div>
                <div class="summary-card">
                    <h4>Net Balance</h4>
                    <p class="net" id="net-balance">$0.00</p>
                </div>
            </div>

            <!-- Category Summary -->
            <h3 class="category-summary">Expenses by Category</h3>
            <div class="summary-card">
                <ul id="category-list">
                    <!-- JS will populate this -->
                    <li>No expenses yet.</li>
                </ul>
            </div>

        </section>
    </main>

    <!-- Footer from User HTML -->
    <footer class="footer">
        For any issues mail us at:
        <a href="mailto:finteraissues@gmail.com">finteraissues@gmail.com</a>
    </footer>


    <script>
        // --- DATA STORAGE ---
        // We use an array to simulate the database.
        let transactions = [
            // Sample Data
            { date: '2025-10-28', description: 'Coffee', category: 'Food', amount: 4.50, type: 'expense' },
            { date: '2025-10-27', description: 'Paycheck', category: 'Salary', amount: 1200.00, type: 'income' },
            { date: '2025-10-26', description: 'Bus Fare', category: 'Transport', amount: 2.75, type: 'expense' }
        ];

        // --- DOM ELEMENTS ---
        const form = document.getElementById('transaction-form');
        const transactionList = document.getElementById('transaction-list');
        const submitButton = document.getElementById('submit-button');
        
        // Form Fields
        const editIndexInput = document.getElementById('edit-index');
        const dateInput = document.getElementById('date');
        const descriptionInput = document.getElementById('description');
        const categoryInput = document.getElementById('category');
        const amountInput = document.getElementById('amount');
        const typeInput = document.getElementById('type');
        
        // Summary Fields
        const totalIncomeEl = document.getElementById('total-income');
        const totalExpenseEl = document.getElementById('total-expense');
        const netBalanceEl = document.getElementById('net-balance');
        const categoryListEl = document.getElementById('category-list');
        
        // Views
        const views = document.querySelectorAll('.app-view');
        const navButtons = document.querySelectorAll('.nav-button');

        // --- APP LOGIC ---

        // (Feature: Add, Update, Delete Income/Expense)
        function handleFormSubmit(e) {
            e.preventDefault();

            const transaction = {
                date: dateInput.value,
                description: descriptionInput.value,
                category: categoryInput.value,
                amount: parseFloat(amountInput.value),
                type: typeInput.value,
            };

            const editIndex = editIndexInput.value;

            if (editIndex) {
                // Update existing transaction
                transactions[editIndex] = transaction;
                submitButton.textContent = 'Add Transaction';
                editIndexInput.value = ''; // Clear edit index
            } else {
                // Add new transaction
                transactions.push(transaction);
            }

            form.reset();
            renderAll();
        }

        // (Feature: Delete)
        function deleteTransaction(index) {
            transactions.splice(index, 1);
            renderAll();
        }

        // (Feature: Update - Step 1: Populate form)
        function startEditTransaction(index) {
            const transaction = transactions[index];

            // Populate the form
            dateInput.value = transaction.date;
            descriptionInput.value = transaction.description;
            categoryInput.value = transaction.category;
            amountInput.value = transaction.amount;
            typeInput.value = transaction.type;
            
            // Set hidden index
            editIndexInput.value = index;

            // Change button text
            submitButton.textContent = 'Update Transaction';

            // Switch to the transactions view if not already there
            showView('transactions');

            // Scroll to form
            form.scrollIntoView({ behavior: 'smooth' });
        }


        // --- RENDERING & UI ---

        // (Render Transaction List)
        function renderTransactions() {
            transactionList.innerHTML = ''; // Clear existing list

            if (transactions.length === 0) {
                transactionList.innerHTML = '<tr><td colspan="5" style="text-align: center;">No transactions added yet.</td></tr>';
                return;
            }

            // Sort by date (newest first)
            const sortedTransactions = [...transactions].sort((a, b) => new Date(b.date) - new Date(a.date));

            sortedTransactions.forEach((tx, index) => {
                // Find original index for editing/deleting
                const originalIndex = transactions.indexOf(tx);

                const row = document.createElement('tr');
                const amountClass = tx.type === 'income' ? 'amount-income' : 'amount-expense';
                const amountSign = tx.type === 'income' ? '+' : '-';

                row.innerHTML = `
                    <td>${tx.date}</td>
                    <td>${tx.description}</td>
                    <td>${tx.category}</td>
                    <td class="${amountClass}">${amountSign}$${tx.amount.toFixed(2)}</td>
                    <td class="action-buttons">
                        <button onclick="startEditTransaction(${originalIndex})" title="Edit"><i class="fa-solid fa-pencil"></i></button>
                        <button onclick="deleteTransaction(${originalIndex})" title="Delete"><i class="fa-solid fa-trash"></i></button>
                    </td>
                `;
                transactionList.appendChild(row);
            });
        }

        // (Feature: View Summaries and Reports)
        function renderSummary() {
            let totalIncome = 0;
            let totalExpense = 0;
            const categoryExpenses = {};

            for (const tx of transactions) {
                if (tx.type === 'income') {
                    totalIncome += tx.amount;
                } else {
                    totalExpense += tx.amount;
                    // Tally category expenses
                    if (categoryExpenses[tx.category]) {
                        categoryExpenses[tx.category] += tx.amount;
                    } else {
                        categoryExpenses[tx.category] = tx.amount;
                    }
                }
            }

            const netBalance = totalIncome - totalExpense;

            // Update summary cards
            totalIncomeEl.textContent = `$${totalIncome.toFixed(2)}`;
            totalExpenseEl.textContent = `$${totalExpense.toFixed(2)}`;
            netBalanceEl.textContent = `$${netBalance.toFixed(2)}`;

            // Update net balance color
            netBalanceEl.className = 'net'; // Reset
            if (netBalance < 0) {
                netBalanceEl.classList.add('expense');
            } else if (netBalance > 0) {
                netBalanceEl.classList.add('income');
            }

            // Update category list
            categoryListEl.innerHTML = '';
            const categories = Object.keys(categoryExpenses);

            if (categories.length === 0) {
                categoryListEl.innerHTML = '<li>No expenses to categorize.</li>';
                return;
            }

            categories
                .sort((a, b) => categoryExpenses[b] - categoryExpenses[a]) // Sort by most expensive
                .forEach(category => {
                    const li = document.createElement('li');
                    li.innerHTML = `
                        <span>${category}</span>
                        <span class="amount-expense">-$${categoryExpenses[category].toFixed(2)}</span>
                    `;
                    categoryListEl.appendChild(li);
                });
        }

        // (View Switching)
        function showView(viewId) {
            // Hide all views
            views.forEach(view => view.classList.remove('active'));
            // Deactivate all nav buttons
            navButtons.forEach(btn => btn.classList.remove('active'));

            // Show the selected view
            document.getElementById(`view-${viewId}`).classList.add('active');
            // Activate the selected nav button
            document.getElementById(`nav-${viewId}`).classList.add('active');
            
            // Re-render summary if that view is selected
            if (viewId === 'summary') {
                renderSummary();
            }
        }

        // (Initial Render)
        function renderAll() {
            renderTransactions();
            renderSummary(); // Update summary calculations in the background
        }

        // --- EVENT LISTENERS ---
        form.addEventListener('submit', handleFormSubmit);

        // Initial load
        document.addEventListener('DOMContentLoaded', () => {
            // Set default date
            dateInput.value = new Date().toISOString().split('T')[0];
            renderAll();
        });

    </script>

</body>
</html>

